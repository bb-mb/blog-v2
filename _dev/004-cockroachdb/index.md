---
last_update:
  date: 2023-03-04
---

# cockroachDB

[CockroachDB](https://www.cockroachlabs.com/)

직역하면 바퀴벌레DB.. 장애복구를 잘해서 바퀴벌레처럼 질기다는 그런 의미라고 한다.

무슨 의도인지는 알겠는데 제품 이름으로 쓰기엔 좀 별로다.
구글에서 검색할 때 ‘cockroachDB’, 뒤에 붙은 DB까지 풀네임으로 검색하지 않으면 곧바로 바퀴벌레 사진이 나온다.

사이드 프로젝트의 백엔드를 구성할 때 DB를 뭘로 할지 많이 찾아봤는데 아래 기준으로 CockroachDB가 가장 적합해 보여서 선택했다.

1. 저렴할 것 - 서버리스면 더 좋음
2. 최대한 DB 지식이 없어도 운영하는 데 문제없는 관리형 서비스. 장애 처리라던지 데이터 백업이라던지 오토스케일링 같은 걸 직접 처리하기엔 내가 너무 모른다.
3. Prisma 연동이 될 것. 난 SQL 쿼리도 잘 모름. 전에 FaunaDB도 써봤는데 좋은 ORM이 없어서 직접 쿼리문 작성하려니 어려워서 포기함.

이 DB가 분산 처리, 글로벌 배포가 장점인 것 같은데 아쉽게도 서버리스 클라우드에서는 멀티 리전 배포가 안된다. 리전도 아시아에는 싱가폴 밖에 없는 부분이 아쉽..

싱가폴 리전이라 레이턴시가 너무 높은 건 아닐지 걱정이 좀 된다.

이 DB 직접 서버에 설치해서 사용법 좀 익혀두려고 한다.

해볼 건 아래와 같다.

- [x] 독스 읽기. 대충 개념만
- [x] NestJS + Prisma에 DB 연결
- [x] 레이턴시 확인하기
- [ ] RU 얼마나 드는지 확인
- [ ] 모델 정의
- [ ] 마이그레이션
